import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

/**
 * The following is an example of a calculator using the java swing gui library.
 * It can perform basic arithmetic (+,-,/,*) as well as find the square,
 * squareroot, and reciprocal of a given number.
 *
 * @author	Trevor Chaney <t_c296@txstate.edu>
 */
public class JavaCalculator {
	JFrame frame;
	JTextField textField;
	JButton b1,b2,b3,b4,b5,b6,b7,b8,b9,b0,bdiv,bmul,bsub,badd,bdec,beq,bdel,bclr,bsqrt,bsqr,brecip;
 
	static double a=0,b=0,result=0;
	static int operator=0;

	/**
	 * The default constructor of class JavaCalculator initializes the frame,
	 * text field, and buttons as well as set the layout of the frame and set
	 * the position, spacing, and dimensions of the buttons and text field.
	 */
	JavaCalculator() {
		frame=new JFrame("Java Calculator");
		textField=new JTextField();
		b1=new JButton("1");
		b2=new JButton("2");
		b3=new JButton("3");
		b4=new JButton("4");
		b5=new JButton("5");
		b6=new JButton("6");
		b7=new JButton("7");
		b8=new JButton("8");
		b9=new JButton("9");
		b0=new JButton("0");
		bdiv=new JButton("/");
		bmul=new JButton("*");
		bsub=new JButton("-");
		badd=new JButton("+");
		bdec=new JButton(".");
		beq=new JButton("=");
		bdel=new JButton("Delete");
		bclr=new JButton("Clear");
		bsqrt=new JButton("sqrt(x)");
		bsqr=new JButton("x^2");
		brecip=new JButton("1/x");
		
		textField.setBounds(30,40,280,30);
		b7.setBounds(40,100,50,40);
		b8.setBounds(110,100,50,40);
		b9.setBounds(180,100,50,40);
		bdiv.setBounds(250,100,50,40);
		
		b4.setBounds(40,170,50,40);
		b5.setBounds(110,170,50,40);
		b6.setBounds(180,170,50,40);
		bmul.setBounds(250,170,50,40);
		
		b1.setBounds(40,240,50,40);
		b2.setBounds(110,240,50,40);
		b3.setBounds(180,240,50,40);
		bsub.setBounds(250,240,50,40);
		
		bdec.setBounds(40,310,50,40);
		b0.setBounds(110,310,50,40);
		beq.setBounds(180,310,50,40);
		badd.setBounds(250,310,50,40);

		bsqrt.setBounds(40, 370, 75, 40);
		bsqr.setBounds(135, 370, 75, 40);
		brecip.setBounds(230, 370, 75, 40);
		
		bdel.setBounds(60,430,100,40);
		bclr.setBounds(180,430,100,40);
		
		frame.add(textField);
		frame.add(b7);
		frame.add(b8);
		frame.add(b9);
		frame.add(bdiv);
		frame.add(b4);
		frame.add(b5);
		frame.add(b6);
		frame.add(bmul);
		frame.add(b1);
		frame.add(b2);
		frame.add(b3);
		frame.add(bsub);
		frame.add(bdec);
		frame.add(b0);
		frame.add(beq);
		frame.add(badd);
		frame.add(bdel);
		frame.add(bclr);
		frame.add(bsqrt);
		frame.add(bsqr);
		frame.add(brecip);
		
		frame.setLayout(null);
		frame.setVisible(true);
		frame.setSize(350,525);
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		frame.setResizable(false);
		
		b1.addActionListener(new ButtonListener());
		b2.addActionListener(new ButtonListener());
		b3.addActionListener(new ButtonListener());
		b4.addActionListener(new ButtonListener());
		b5.addActionListener(new ButtonListener());
		b6.addActionListener(new ButtonListener());
		b7.addActionListener(new ButtonListener());
		b8.addActionListener(new ButtonListener());
		b9.addActionListener(new ButtonListener());
		b0.addActionListener(new ButtonListener());
		badd.addActionListener(new ButtonListener());
		bdiv.addActionListener(new ButtonListener());
		bmul.addActionListener(new ButtonListener());
		bsub.addActionListener(new ButtonListener());
		bdec.addActionListener(new ButtonListener());
		beq.addActionListener(new ButtonListener());
		bdel.addActionListener(new ButtonListener());
		bclr.addActionListener(new ButtonListener());
		bsqrt.addActionListener(new ButtonListener());
		bsqr.addActionListener(new ButtonListener());
		brecip.addActionListener(new ButtonListener());
	}

	/**
	 * ButtonListener listens to events that occur with the buttons of the
	 * calculator.
	 */
	private class ButtonListener implements ActionListener {
		/**
		 * Respond to events generated by the selected button by performing the
		 * corresponding action associciated to the button.
		 *
		 * @param 'event' the event created by the button when it was clicked.
		 */
		@Override
		public void actionPerformed(ActionEvent event) {
			JButton sourceEvent = (JButton)event.getSource();
			if(sourceEvent == b1) {
				textField.setText(textField.getText().concat("1"));
			}
			if(sourceEvent == b2) {
				textField.setText(textField.getText().concat("2"));
			}
			if(sourceEvent == b3) {
				textField.setText(textField.getText().concat("3"));
			}
			if(sourceEvent == b4) {
				textField.setText(textField.getText().concat("4"));
			}
			if(sourceEvent == b5) {
				textField.setText(textField.getText().concat("5"));
			}
			if(sourceEvent == b6) {
				textField.setText(textField.getText().concat("6"));
			}
			if(sourceEvent == b7) {
				textField.setText(textField.getText().concat("7"));
			}
			if(sourceEvent == b8) {
				textField.setText(textField.getText().concat("8"));
			}
			if(sourceEvent == b9) {
				textField.setText(textField.getText().concat("9"));
			}
			if(sourceEvent == b0) {
				textField.setText(textField.getText().concat("0"));
			}
			if(sourceEvent == badd) {
				a=Double.parseDouble(textField.getText());
				operator=1;
				textField.setText("");
			}
			if(sourceEvent == bdiv) {
				a=Double.parseDouble(textField.getText());
	    			operator=4;
				textField.setText("");
			}
			if(sourceEvent == bmul) {
				a=Double.parseDouble(textField.getText());
				operator=3;
				textField.setText("");
			}
			if(sourceEvent == bsub) {
				a=Double.parseDouble(textField.getText());
				operator=2;
				textField.setText("");
			}
			if(sourceEvent == bdec) {
				textField.setText(textField.getText().concat("."));
			}
			if(sourceEvent == bsqrt) {
				a = Double.parseDouble(textField.getText());
				textField.setText(Double.toString(Math.sqrt(a)));
			}
			if(sourceEvent == bsqr) {
				a = Double.parseDouble(textField.getText());
				textField.setText(Double.toString(a*a));
			}
			if(sourceEvent == brecip) {
				a = Double.parseDouble(textField.getText());
				textField.setText(Double.toString(1/a));
			}
			if(sourceEvent == beq) {
				b=Double.parseDouble(textField.getText());
				switch(operator) {
					case 1: {result=a+b;
						}break;
					case 2: {result=a-b;
						}break;
		     			case 3: {result=a*b;
						}break;
					case 4: {result=a/b;
						}break;
					default: {result=0;}
				}
				
				textField.setText(""+result);
			}
			if(sourceEvent == bdel) {
				String s=textField.getText();
				textField.setText("");
				for(int i=0;i<s.length()-1;i++) {
					textField.setText(textField.getText()+s.charAt(i));
				}
			}
			if(sourceEvent == bclr) {
				textField.setText("");
			}
		}
	}
	
	/**
	 * The main entry point of this program creates an instance of the gui.
	 */
	public static void main(String[] args) {
		new JavaCalculator();
		new JavaCalculator();
	}
}

